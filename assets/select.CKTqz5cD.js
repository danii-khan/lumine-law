import{w as se,x as ce,r as a,y as ae,z as O,D as ie,F as le,R as ue,J as de,K as me,M as E,N as pe,m as d,j as c,O as fe,P as ge,e as j,Q as he,S as xe,U as Se,W as Pe,X as ve}from"./index.DpeimGd6.js";import{c as P,b as y,a as p,d as Ce,u as L}from"./input.BFexiCnn.js";import{c as ye}from"./create-slot-recipe-context.CgxdR-Ua.js";const[yt,Ne]=P({name:"LocaleContext",hookName:"useLocaleContext",providerName:"<LocaleProvider />",strict:!1,defaultValue:{dir:"ltr",locale:"en-US"}});var Ie=se(e=>e),T=e=>(e==null?void 0:e.constructor.name)==="Array",je=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!R(e[n],t[n]))return!1;return!0},R=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof(e==null?void 0:e.isEqual)=="function"&&typeof(t==null?void 0:t.isEqual)=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(T(e)&&T(t))return je(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(t??Object.create(null)),r=n.length;for(let o=0;o<r;o++)if(!Reflect.has(e,n[o]))return!1;for(let o=0;o<r;o++){const s=n[o];if(!R(e[s],t[s]))return!1}return!0},we=Function.prototype.toString;we.call(Object);function G(e){if(!Ee(e)||e===void 0)return e;const t=Reflect.ownKeys(e).filter(r=>typeof r=="string"),n={};for(const r of t){const o=e[r];o!==void 0&&(n[r]=G(o))}return n}var Ee=e=>e&&typeof e=="object"&&e.constructor===Object;function Re(e,t){const n=a.useRef(!1),r=a.useRef(!1);a.useEffect(()=>{if(n.current&&r.current)return e();r.current=!0},t),a.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])}var{use:k}=ue,Ae=ce("__zag__targetCache",()=>new WeakMap);function Oe(e,t){const{actions:n,context:r,sync:o}=t??{},s=a.useRef(),i=a.useRef(),l=a.useSyncExternalStore(a.useCallback(h=>ae(e.state,h,o),[o]),()=>{const h=O(e.state,k);try{if(s.current&&i.current&&!ie(s.current,h,i.current,new WeakMap))return s.current}catch{}return h},()=>O(e.state,k));e.setOptions({actions:n});const u=a.useMemo(()=>G(r??{}),[r]);Re(()=>{const h=Object.entries(u),S=e.contextSnapshot??{};h.map(([C,A])=>({key:C,curr:A,prev:S[C],equal:R(S[C],A)})).every(({equal:C})=>C)||e.setContext(u)},[u]);const m=new WeakMap;a.useEffect(()=>{s.current=l,i.current=m});const x=a.useMemo(()=>new WeakMap,[]);return le(l,m,x,Ae)}function Te(e){const t=a.useRef();return t.current||(t.current={v:e()}),t.current.v}var ke=typeof document<"u"?a.useLayoutEffect:a.useEffect;function be(e,t){const{state:n,context:r}=t??{},o=Te(()=>{const i=typeof e=="function"?e():e;return r&&i.setContext(r),i._created(),i}),s=a.useRef();return ke(()=>{const i=n??s.current;return o.start(i),()=>{o.stop()}},[]),o}function M(e,t){const n=be(e,t);return[Oe(n,t),n.send,n]}const[Nt,$]=P({name:"EnvironmentContext",hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:{getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window}});function I(e,t={}){const{sync:n=!1}=t,r=Le(e);return a.useCallback((...o)=>{var s;return n?queueMicrotask(()=>{var i;return(i=r.current)==null?void 0:i.call(r,...o)}):(s=r.current)==null?void 0:s.call(r,...o)},[n,r])}function Le(e){const t=a.useRef(e);return t.current=e,t}function Ge(e,t,n){const r=e.matches("mounted","unmountSuspended");return{skip:!e.context.initial&&r,present:r,setNode(o){o&&t({type:"NODE.SET",node:o})},unmount(){t({type:"UNMOUNT"})}}}function N(e){return(e==null?void 0:e.animationName)||"none"}function Me(e){return de({initial:e.present?"mounted":"unmounted",context:{node:null,styles:null,unmountAnimationName:null,prevAnimationName:null,present:!1,initial:!1,...e},exit:["clearInitial"],watch:{present:["setInitial","syncPresence"]},on:{"NODE.SET":{actions:["setNode","setStyles"]}},states:{mounted:{on:{UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]},"UNMOUNT.SUSPEND":"unmountSuspended"}},unmountSuspended:{activities:["trackAnimationEvents"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]},"ANIMATION.END":{target:"unmounted",actions:["invokeOnExitComplete"]},UNMOUNT:{target:"unmounted",actions:["invokeOnExitComplete"]}}},unmounted:{entry:["clearPrevAnimationName"],on:{MOUNT:{target:"mounted",actions:["setPrevAnimationName"]}}}}},{actions:{setInitial(t){t.initial=!0},clearInitial(t){t.initial=!1},invokeOnExitComplete(t){var n;(n=t.onExitComplete)==null||n.call(t)},setNode(t,n){t.node=E(n.node)},setStyles(t,n){const r=n.node.ownerDocument.defaultView||window;t.styles=E(r.getComputedStyle(n.node))},syncPresence(t,n,{send:r}){if(t.present){r({type:"MOUNT",src:"presence.changed"});return}const o=N(t.styles);(t.immediate?queueMicrotask:requestAnimationFrame)(()=>{var i,l;t.unmountAnimationName=o,o==="none"||o===t.prevAnimationName||((i=t.styles)==null?void 0:i.display)==="none"||((l=t.styles)==null?void 0:l.animationDuration)==="0s"?r({type:"UNMOUNT",src:"presence.changed"}):r({type:"UNMOUNT.SUSPEND"})})},setPrevAnimationName(t){(t.immediate?queueMicrotask:requestAnimationFrame)(()=>{t.prevAnimationName=N(t.styles)})},clearPrevAnimationName(t){t.prevAnimationName=null}},activities:{trackAnimationEvents(t,n,{send:r}){const o=t.node;if(!o)return;const s=l=>{var m,x;(((x=(m=l.composedPath)==null?void 0:m.call(l))==null?void 0:x[0])??l.target)===o&&(t.prevAnimationName=N(t.styles))},i=l=>{var x,h;const u=N(t.styles);(((h=(x=l.composedPath)==null?void 0:x.call(l))==null?void 0:h[0])??l.target)===o&&u===t.unmountAnimationName&&r({type:"UNMOUNT",src:"animationend"})};return o.addEventListener("animationstart",s),o.addEventListener("animationcancel",i),o.addEventListener("animationend",i),()=>{o.removeEventListener("animationstart",s),o.removeEventListener("animationcancel",i),o.removeEventListener("animationend",i)}}}})}me()(["onExitComplete","present","immediate"]);const U=e=>{const{lazyMount:t,unmountOnExit:n,...r}=e,o=a.useRef(!1),s={...r,onExitComplete:I(e.onExitComplete)},[i,l]=M(Me(s),{context:s}),u=Ge(i,l);u.present&&(o.current=!0);const m=!u.present&&!o.current&&t||n&&!u.present&&o.current,x=()=>({"data-state":e.present?"open":"closed",hidden:!u.present});return{ref:u.setNode,getPresenceProps:x,present:u.present,unmounted:m}},[V,q]=P({name:"PresenceContext",hookName:"usePresenceContext",providerName:"<PresenceProvider />"}),D=e=>y()(e,["immediate","lazyMount","onExitComplete","present","unmountOnExit"]),It=e=>E(new pe(e)),[z,f]=P({name:"SelectContext",hookName:"useSelectContext",providerName:"<SelectProvider />"}),F=a.forwardRef((e,t)=>{const n=f(),r=d(n.getClearTriggerProps(),e);return c.jsx(p.button,{...r,ref:t})});F.displayName="SelectClearTrigger";const _=a.forwardRef((e,t)=>{const n=f(),r=q(),o=d(n.getContentProps(),r.getPresenceProps(),e);return r.unmounted?null:c.jsx(p.div,{...o,ref:Ce(r.ref,t)})});_.displayName="SelectContent";const $e=e=>e.children(f()),W=a.forwardRef((e,t)=>{const n=f(),r=d(n.getControlProps(),e);return c.jsx(p.div,{...r,ref:t})});W.displayName="SelectControl";const B=a.forwardRef((e,t)=>{const n=f(),r=d(n.getHiddenSelectProps(),e),o=n.value.length===0,s=L();return c.jsxs(p.select,{"aria-describedby":s==null?void 0:s.ariaDescribedby,...r,ref:t,children:[o&&c.jsx("option",{value:""}),n.collection.items.map((i,l)=>c.jsx("option",{value:n.collection.getItemValue(i)??"",disabled:n.collection.getItemDisabled(i)},l))]})});B.displayName="SelectHiddenSelect";const H=a.forwardRef((e,t)=>{const n=f(),r=d(n.getIndicatorProps(),e);return c.jsx(p.div,{...r,ref:t})});H.displayName="SelectIndicator";const[Ue,jt]=P({name:"SelectItemContext",hookName:"useSelectItemContext",providerName:"<SelectItemProvider />"}),[Ve,K]=P({name:"SelectItemPropsContext",hookName:"useSelectItemPropsContext",providerName:"<SelectItemPropsProvider />"}),X=a.forwardRef((e,t)=>{const[n,r]=y()(e,["item","persistFocus"]),o=f(),s=d(o.getItemProps(n),r),i=o.getItemState(n);return c.jsx(Ve,{value:n,children:c.jsx(Ue,{value:i,children:c.jsx(p.div,{...s,ref:t})})})});X.displayName="SelectItem";const[qe,De]=P({name:"SelectItemGroupPropsContext",hookName:"useSelectItemGroupPropsContext",providerName:"<SelectItemGroupPropsProvider />"}),J=a.forwardRef((e,t)=>{const n=a.useId(),[r,o]=y()(e,["id"]),s={id:n,...r},i=f(),l=d(i.getItemGroupProps(s),o);return c.jsx(qe,{value:s,children:c.jsx(p.div,{...l,ref:t})})});J.displayName="SelectItemGroup";const Q=a.forwardRef((e,t)=>{const n=f(),r=De(),o=d(n.getItemGroupLabelProps({htmlFor:r.id}),e);return c.jsx(p.div,{...o,ref:t})});Q.displayName="SelectItemGroupLabel";const Y=a.forwardRef((e,t)=>{const n=f(),r=K(),o=d(n.getItemIndicatorProps(r),e);return c.jsx(p.div,{...o,ref:t})});Y.displayName="SelectItemIndicator";const Z=a.forwardRef((e,t)=>{const n=f(),r=K(),o=d(n.getItemTextProps(r),e);return c.jsx(p.span,{...o,ref:t})});Z.displayName="SelectItemText";const ee=a.forwardRef((e,t)=>{const n=f(),r=d(n.getLabelProps(),e);return c.jsx(p.label,{...r,ref:t})});ee.displayName="SelectLabel";const te=a.forwardRef((e,t)=>{const n=f(),r=d(n.getPositionerProps(),e);return q().unmounted?null:c.jsx(p.div,{...r,ref:t})});te.displayName="SelectPositioner";const ze=e=>{const{collection:t,...n}=e,r=Ne(),o=$(),s=L(),i={id:a.useId(),ids:{label:s==null?void 0:s.ids.label,hiddenSelect:s==null?void 0:s.ids.control},disabled:s==null?void 0:s.disabled,readOnly:s==null?void 0:s.readOnly,invalid:s==null?void 0:s.invalid,required:s==null?void 0:s.required,dir:r.dir,getRootNode:o.getRootNode,collection:t,open:e.defaultOpen,value:e.defaultValue,"open.controlled":e.open!==void 0,...n},l=(()=>{const{collection:h,...S}=i;return{...S,value:e.value,onValueChange:I(e.onValueChange,{sync:!0}),onHighlightChange:I(e.onHighlightChange),onOpenChange:I(e.onOpenChange)}})(),[u,m,x]=M(fe(i),{context:l});return a.useEffect(()=>{x.setContext({collection:t})},[t]),ge(u,m,Ie)},Fe=(e,t)=>{const[n,r]=D(e),[o,s]=y()(r,["closeOnSelect","collection","composite","defaultOpen","defaultValue","deselectable","disabled","form","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","open","positioning","readOnly","required","scrollToIndexFn","value"]),i=ze(o),l=U(d({present:i.open},n)),u=d(i.getRootProps(),s);return c.jsx(z,{value:i,children:c.jsx(V,{value:l,children:c.jsx(p.div,{...u,ref:t})})})},_e=a.forwardRef(Fe),We=(e,t)=>{const[n,r]=D(e),[{value:o},s]=y()(r,["value"]),i=U(d({present:o.open},n)),l=d(o.getRootProps(),s);return c.jsx(z,{value:o,children:c.jsx(V,{value:i,children:c.jsx(p.div,{...l,ref:t})})})},Be=a.forwardRef(We),ne=a.forwardRef((e,t)=>{const n=f(),r=d(n.getTriggerProps(),e);return c.jsx(p.button,{...r,ref:t})});ne.displayName="SelectTrigger";const re=a.forwardRef((e,t)=>{const{children:n,placeholder:r,...o}=e,s=f(),i=d(s.getValueTextProps(),o);return c.jsx(p.span,{...i,ref:t,children:n||s.valueAsString||r})});re.displayName="SelectValueText";const He=e=>c.jsx(j.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:c.jsx("path",{d:"M20 6 9 17l-5-5"})}),Ke=e=>c.jsx(j.svg,{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:c.jsx("path",{d:"m6 9 6 6 6-6"})}),w=e=>e?"":void 0,Xe=j("div",{base:{display:"inline-flex",gap:"0.5rem",isolation:"isolate",position:"relative","& [data-group-item]":{_focusVisible:{zIndex:1}}},variants:{orientation:{horizontal:{flexDirection:"row"},vertical:{flexDirection:"column"}},attached:{true:{gap:"0!"}},grow:{true:{display:"flex","& > *":{flex:1}}},stacking:{"first-on-top":{"& > [data-group-item]":{zIndex:"calc(var(--group-count) - var(--group-index))"}},"last-on-top":{"& > [data-group-item]":{zIndex:"var(--group-index)"}}}},compoundVariants:[{orientation:"horizontal",attached:!0,css:{"& > *[data-first]":{borderEndRadius:"0!",marginEnd:"-1px"},"& > *[data-between]":{borderRadius:"0!",marginEnd:"-1px"},"& > *[data-last]":{borderStartRadius:"0!"}}},{orientation:"vertical",attached:!0,css:{"& > *[data-first]":{borderBottomRadius:"0!",marginBottom:"-1px"},"& > *[data-between]":{borderRadius:"0!",marginBottom:"-1px"},"& > *[data-last]":{borderTopRadius:"0!"}}}],defaultVariants:{orientation:"horizontal"}}),Je=a.memo(a.forwardRef(function(t,n){const{align:r="center",justify:o="flex-start",children:s,wrap:i,...l}=t,u=a.Children.count(s),m=a.useMemo(()=>a.Children.toArray(s).filter(a.isValidElement).map((h,S)=>{const v=h.props;return a.cloneElement(h,{...v,"data-group-item":"","data-first":w(S===0),"data-last":w(S===u-1),"data-between":w(S>0&&S<u-1),style:{"--group-count":u,"--group-index":S,...(v==null?void 0:v.style)??{}}})}),[s,u]);return c.jsx(Xe,{ref:n,alignItems:r,justifyContent:o,flexWrap:i,...l,children:m})})),b=j("div",{base:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",zIndex:2,color:"fg.subtle",height:"full",fontSize:"sm",px:"3"},variants:{placement:{start:{insetInlineStart:"0"},end:{insetInlineEnd:"0"}}}}),Qe=e=>{var u;const{children:t,disabled:n}=e,[r,o]=a.useState((u=e.container)==null?void 0:u.current),s=a.useSyncExternalStore(Ze,()=>!1,()=>!0),{getRootNode:i}=$();if(a.useEffect(()=>{o(()=>{var m;return(m=e.container)==null?void 0:m.current})},[e.container]),s||n)return c.jsx(c.Fragment,{children:t});const l=r??Ye(i);return c.jsx(c.Fragment,{children:a.Children.map(t,m=>he.createPortal(m,l))})},Ye=e=>{const t=e==null?void 0:e(),n=t.getRootNode();return xe(n)?n:Se(t).body},Ze=()=>()=>{},{withProvider:oe,withContext:g,useStyles:wt,PropsProvider:Et}=ye({key:"select"});oe(Be,"root",{forwardAsChild:!0});const et=oe(_e,"root",{forwardAsChild:!0}),tt=g(ne,"trigger",{forwardAsChild:!0}),nt=g(te,"positioner",{forwardAsChild:!0}),rt=g(_,"content",{forwardAsChild:!0}),ot=g(re,"valueText",{forwardAsChild:!0}),st=g(F,"clearTrigger",{forwardAsChild:!0}),ct=g(J,"itemGroup",{forwardAsChild:!0}),at=g(Q,"itemGroupLabel",{forwardAsChild:!0}),it=g(X,"item",{forwardAsChild:!0});g(Z,"itemText",{forwardAsChild:!0});const lt=g(Y,"itemIndicator",{forwardAsChild:!0,defaultProps:{children:c.jsx(He,{})}}),ut=g("div","indicatorGroup"),dt=g(H,"indicator",{forwardAsChild:!0,defaultProps:{children:c.jsx(Ke,{})}}),mt=g(W,"control",{forwardAsChild:!0});g(ee,"label",{forwardAsChild:!0});const pt=$e,ft=B,Rt=a.forwardRef(function(t,n){const{startElement:r,startElementProps:o,endElement:s,endElementProps:i,children:l,...u}=t;return c.jsxs(Je,{ref:n,...u,children:[r&&c.jsx(b,{pointerEvents:"none",...o,children:r}),a.cloneElement(l,{...r&&{ps:"calc(var(--input-height) - 6px)"},...s&&{pe:"calc(var(--input-height) - 6px)"},...l.props}),s&&c.jsx(b,{placement:"end",...i,children:s})]})});function gt(e,t){return e??t()}const ht=a.forwardRef(function(t,n){return c.jsx(Pe,{variant:"ghost","aria-label":"Close",ref:n,...t,children:gt(t.children,()=>c.jsx(ve,{}))})}),At=a.forwardRef(function(t,n){const{children:r,clearable:o,...s}=t;return c.jsxs(mt,{...s,children:[c.jsx(tt,{ref:n,children:r}),c.jsxs(ut,{children:[o&&c.jsx(xt,{}),c.jsx(dt,{})]})]})}),xt=a.forwardRef(function(t,n){return c.jsx(st,{asChild:!0,...t,ref:n,children:c.jsx(ht,{size:"xs",variant:"plain",focusVisibleRing:"inside",focusRingWidth:"2px",pointerEvents:"auto"})})}),Ot=a.forwardRef(function(t,n){const{portalled:r=!0,portalRef:o,...s}=t;return c.jsx(Qe,{disabled:!r,container:o,children:c.jsx(nt,{children:c.jsx(rt,{...s,ref:n})})})}),Tt=a.forwardRef(function(t,n){const{item:r,children:o,...s}=t;return c.jsxs(it,{item:r,...s,ref:n,children:[o,c.jsx(lt,{})]},r.value)}),kt=a.forwardRef(function(t,n){const{children:r,...o}=t;return c.jsx(ot,{...o,ref:n,children:c.jsx(pt,{children:s=>{const i=s.selectedItems;return i.length===0?t.placeholder:r?r(i):i.length===1?s.collection.stringifyItem(i[0]):`${i.length} selected`}})})}),bt=a.forwardRef(function(t,n){return c.jsx(et,{...t,ref:n,positioning:{sameWidth:!0,...t.positioning},children:t.asChild?t.children:c.jsxs(c.Fragment,{children:[c.jsx(ft,{}),t.children]})})});a.forwardRef(function(t,n){const{children:r,label:o,...s}=t;return c.jsxs(ct,{...s,ref:n,children:[c.jsx(at,{children:o}),r]})});export{Rt as I,bt as S,At as a,kt as b,It as c,Ot as d,Tt as e};
